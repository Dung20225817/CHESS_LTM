{"ast":null,"code":"var _jsxFileName = \"D:\\\\LTM\\\\CHESS\\\\fe\\\\src\\\\components\\\\Broad\\\\broad.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport useChessSocket from \"../context/useChessSocket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceToEmoji = {\n  K: \"♔\",\n  Q: \"♕\",\n  R: \"♖\",\n  B: \"♗\",\n  N: \"♘\",\n  P: \"♙\",\n  k: \"♚\",\n  q: \"♛\",\n  r: \"♜\",\n  b: \"♝\",\n  n: \"♞\",\n  p: \"♟︎\",\n  \".\": \"·\"\n};\nexport default function Broad({\n  roomId\n}) {\n  _s();\n  const [fen, setFen] = useState(\"................................................................\");\n  const [turn, setTurn] = useState(\"white\");\n  const [gameOver, setGameOver] = useState(null);\n  const [reason, setReason] = useState(undefined);\n  const [selectedFrom, setSelectedFrom] = useState(null);\n  const [chatText, setChatText] = useState(\"\");\n  const onUpdate = (newFen, newTurn, over, r) => {\n    if (newFen) setFen(newFen);\n    setTurn(newTurn);\n    setGameOver(over);\n    setReason(r);\n  };\n  const {\n    connected,\n    playerColor,\n    sendMove,\n    sendChat,\n    leaveRoom\n  } = useChessSocket(roomId, onUpdate);\n  useEffect(() => {\n    return () => {\n      // ensure leaving on unmount\n      try {\n        leaveRoom();\n      } catch {}\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const rows = useMemo(() => {\n    // Expecting rows separated by '/'\n    const parts = fen && fen.includes(\"/\") ? fen.split(\"/\") : [];\n    if (parts.length === 8) return parts;\n    // fallback: treat continuous 64 chars as 8x8\n    if (fen.length >= 64) {\n      const fallback = [];\n      for (let i = 0; i < 8; i++) fallback.push(fen.slice(i * 8, i * 8 + 8));\n      return fallback;\n    }\n    // empty board fallback\n    return Array.from({\n      length: 8\n    }, () => \"........\");\n  }, [fen]);\n  function idxToSquare(r, c) {\n    const file = String.fromCharCode(\"a\".charCodeAt(0) + c);\n    const rank = String(8 - r);\n    return `${file}${rank}`;\n  }\n  function handleSquareClick(r, c) {\n    const sq = idxToSquare(r, c);\n    if (!selectedFrom) {\n      setSelectedFrom(sq);\n      return;\n    }\n    if (selectedFrom === sq) {\n      setSelectedFrom(null);\n      return;\n    }\n    // send move\n    const ok = sendMove(`${selectedFrom}${sq}`);\n    if (!ok) {\n      // ignore failure silently; could show error UI\n    }\n    setSelectedFrom(null);\n  }\n  function handleSendChat() {\n    if (!chatText) return;\n    const ok = sendChat(chatText);\n    if (ok) setChatText(\"\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: \"sans-serif\",\n      maxWidth: 720,\n      margin: \"0 auto\",\n      padding: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Room:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), \" \", roomId || \"(none)\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), \" \", connected ? \"connected\" : \"disconnected\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Color:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), \" \", playerColor || \"spectator\", \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginLeft: 12\n          },\n          onClick: () => leaveRoom(),\n          children: \"Leave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ccc\",\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(8, 44px)\",\n          gridTemplateRows: \"repeat(8, 44px)\",\n          userSelect: \"none\"\n        },\n        children: rows.map((rowStr, r) => rowStr.split(\"\").map((ch, c) => {\n          var _pieceToEmoji$ch;\n          const isSelected = selectedFrom === idxToSquare(r, c);\n          const bg = (r + c) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => handleSquareClick(r, c),\n            style: {\n              width: 44,\n              height: 44,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              background: isSelected ? \"#aaf\" : bg,\n              fontSize: 22,\n              cursor: \"pointer\"\n            },\n            title: idxToSquare(r, c),\n            children: (_pieceToEmoji$ch = pieceToEmoji[ch]) !== null && _pieceToEmoji$ch !== void 0 ? _pieceToEmoji$ch : ch\n          }, `${r}-${c}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this);\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Turn:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), \" \", turn]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Game:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), \" \", gameOver ? `${gameOver} ${reason ? `(${reason})` : \"\"}` : \"ongoing\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Chat:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                value: chatText,\n                onChange: e => setChatText(e.target.value),\n                onKeyDown: e => {\n                  if (e.key === \"Enter\") handleSendChat();\n                },\n                style: {\n                  marginLeft: 8,\n                  width: \"70%\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                marginLeft: 8\n              },\n              onClick: handleSendChat,\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Click a square to select the source, then click destination to submit move (e2e4).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // quick resign/leave\n                leaveRoom();\n              },\n              children: \"Leave Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n_s(Broad, \"/YNrgkt7NHUprM9Kn1VFywNzgOI=\", false, function () {\n  return [useChessSocket];\n});\n_c = Broad;\nvar _c;\n$RefreshReg$(_c, \"Broad\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useChessSocket","jsxDEV","_jsxDEV","pieceToEmoji","K","Q","R","B","N","P","k","q","r","b","n","p","Broad","roomId","_s","fen","setFen","turn","setTurn","gameOver","setGameOver","reason","setReason","undefined","selectedFrom","setSelectedFrom","chatText","setChatText","onUpdate","newFen","newTurn","over","connected","playerColor","sendMove","sendChat","leaveRoom","rows","parts","includes","split","length","fallback","i","push","slice","Array","from","idxToSquare","c","file","String","fromCharCode","charCodeAt","rank","handleSquareClick","sq","ok","handleSendChat","style","fontFamily","maxWidth","margin","padding","children","display","justifyContent","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","onClick","gap","border","gridTemplateColumns","gridTemplateRows","userSelect","map","rowStr","ch","_pieceToEmoji$ch","isSelected","bg","width","height","alignItems","background","fontSize","cursor","title","flex","marginTop","value","onChange","e","target","onKeyDown","key","_c","$RefreshReg$"],"sources":["D:/LTM/CHESS/fe/src/components/Broad/broad.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport useChessSocket from \"../context/useChessSocket\";\n\ntype BroadProps = {\n  roomId: string;\n};\n\nconst pieceToEmoji: Record<string, string> = {\n  K: \"♔\",\n  Q: \"♕\",\n  R: \"♖\",\n  B: \"♗\",\n  N: \"♘\",\n  P: \"♙\",\n  k: \"♚\",\n  q: \"♛\",\n  r: \"♜\",\n  b: \"♝\",\n  n: \"♞\",\n  p: \"♟︎\",\n  \".\": \"·\",\n};\n\nexport default function Broad({ roomId }: BroadProps) {\n  const [fen, setFen] = useState<string>(\"................................................................\");\n  const [turn, setTurn] = useState<string>(\"white\");\n  const [gameOver, setGameOver] = useState<string | null>(null);\n  const [reason, setReason] = useState<string | undefined>(undefined);\n  const [selectedFrom, setSelectedFrom] = useState<string | null>(null);\n  const [chatText, setChatText] = useState(\"\");\n\n  const onUpdate = (newFen: string, newTurn: string, over: string | null, r?: string) => {\n    if (newFen) setFen(newFen);\n    setTurn(newTurn);\n    setGameOver(over);\n    setReason(r);\n  };\n\n  const { connected, playerColor, sendMove, sendChat, leaveRoom } = useChessSocket(roomId, onUpdate);\n\n  useEffect(() => {\n    return () => {\n      // ensure leaving on unmount\n      try {\n        leaveRoom();\n      } catch {}\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const rows = useMemo(() => {\n    // Expecting rows separated by '/'\n    const parts = fen && fen.includes(\"/\") ? fen.split(\"/\") : [];\n    if (parts.length === 8) return parts;\n    // fallback: treat continuous 64 chars as 8x8\n    if (fen.length >= 64) {\n      const fallback: string[] = [];\n      for (let i = 0; i < 8; i++) fallback.push(fen.slice(i * 8, i * 8 + 8));\n      return fallback;\n    }\n    // empty board fallback\n    return Array.from({ length: 8 }, () => \"........\");\n  }, [fen]);\n\n  function idxToSquare(r: number, c: number) {\n    const file = String.fromCharCode(\"a\".charCodeAt(0) + c);\n    const rank = String(8 - r);\n    return `${file}${rank}`;\n  }\n\n  function handleSquareClick(r: number, c: number) {\n    const sq = idxToSquare(r, c);\n    if (!selectedFrom) {\n      setSelectedFrom(sq);\n      return;\n    }\n    if (selectedFrom === sq) {\n      setSelectedFrom(null);\n      return;\n    }\n    // send move\n    const ok = sendMove(`${selectedFrom}${sq}`);\n    if (!ok) {\n      // ignore failure silently; could show error UI\n    }\n    setSelectedFrom(null);\n  }\n\n  function handleSendChat() {\n    if (!chatText) return;\n    const ok = sendChat(chatText);\n    if (ok) setChatText(\"\");\n  }\n\n  return (\n    <div style={{ fontFamily: \"sans-serif\", maxWidth: 720, margin: \"0 auto\", padding: 12 }}>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 8 }}>\n        <div>\n          <strong>Room:</strong> {roomId || \"(none)\"}{\" \"}\n          <span style={{ marginLeft: 12 }}>\n            <strong>Status:</strong> {connected ? \"connected\" : \"disconnected\"}\n          </span>\n        </div>\n        <div>\n          <strong>Color:</strong> {playerColor || \"spectator\"}{\" \"}\n          <button style={{ marginLeft: 12 }} onClick={() => leaveRoom()}>\n            Leave\n          </button>\n        </div>\n      </div>\n\n      <div style={{ display: \"flex\", gap: 16 }}>\n        <div\n          style={{\n            border: \"1px solid #ccc\",\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(8, 44px)\",\n            gridTemplateRows: \"repeat(8, 44px)\",\n            userSelect: \"none\",\n          }}\n        >\n          {rows.map((rowStr, r) =>\n            rowStr.split(\"\").map((ch, c) => {\n              const isSelected = selectedFrom === idxToSquare(r, c);\n              const bg = (r + c) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n              return (\n                <div\n                  key={`${r}-${c}`}\n                  onClick={() => handleSquareClick(r, c)}\n                  style={{\n                    width: 44,\n                    height: 44,\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    background: isSelected ? \"#aaf\" : bg,\n                    fontSize: 22,\n                    cursor: \"pointer\",\n                  }}\n                  title={idxToSquare(r, c)}\n                >\n                  {pieceToEmoji[ch] ?? ch}\n                </div>\n              );\n            })\n          )}\n        </div>\n\n        <div style={{ flex: 1 }}>\n          <div style={{ marginBottom: 8 }}>\n            <strong>Turn:</strong> {turn}\n          </div>\n          <div style={{ marginBottom: 8 }}>\n            <strong>Game:</strong> {gameOver ? `${gameOver} ${reason ? `(${reason})` : \"\"}` : \"ongoing\"}\n          </div>\n\n          <div style={{ marginTop: 12 }}>\n            <div>\n              <label>\n                Chat:\n                <input\n                  value={chatText}\n                  onChange={(e) => setChatText(e.target.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Enter\") handleSendChat();\n                  }}\n                  style={{ marginLeft: 8, width: \"70%\" }}\n                />\n              </label>\n              <button style={{ marginLeft: 8 }} onClick={handleSendChat}>\n                Send\n              </button>\n            </div>\n          </div>\n\n          <div style={{ marginTop: 20 }}>\n            <div>\n              <small>Click a square to select the source, then click destination to submit move (e2e4).</small>\n            </div>\n            <div style={{ marginTop: 8 }}>\n              <button\n                onClick={() => {\n                  // quick resign/leave\n                  leaveRoom();\n                }}\n              >\n                Leave Room\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}