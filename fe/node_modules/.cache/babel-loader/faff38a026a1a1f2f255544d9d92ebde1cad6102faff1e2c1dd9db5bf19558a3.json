{"ast":null,"code":"var _jsxFileName = \"D:\\\\LTM\\\\CHESS\\\\fe\\\\src\\\\components\\\\Broad\\\\Board.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState, useCallback } from \"react\";\nimport useChessSocket from \"../context/useChessSocket\";\nimport { ChessRules } from \"./chessRules\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceToEmoji = {\n  K: \"‚ôî\",\n  Q: \"‚ôï\",\n  R: \"‚ôñ\",\n  B: \"‚ôó\",\n  N: \"‚ôò\",\n  P: \"‚ôô\",\n  k: \"‚ôö\",\n  q: \"‚ôõ\",\n  r: \"‚ôú\",\n  b: \"‚ôù\",\n  n: \"‚ôû\",\n  p: \"‚ôüÔ∏é\",\n  \".\": \"¬∑\"\n};\nexport default function Board({\n  roomId\n}) {\n  _s();\n  const [fen, setFen] = useState(\"................................................................\");\n  const [turn, setTurn] = useState(\"white\");\n  const [gameOver, setGameOver] = useState(null);\n  const [reason, setReason] = useState(undefined);\n  const [selectedFrom, setSelectedFrom] = useState(null);\n  const [validMoves, setValidMoves] = useState([]);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [gameStatus, setGameStatus] = useState('waiting');\n  const [opponentConnected, setOpponentConnected] = useState(false);\n  const onUpdate = useCallback((newFen, newTurn, over, r) => {\n    if (newFen) setFen(newFen);\n    setTurn(newTurn);\n    setGameOver(over);\n    setReason(r);\n    setSelectedFrom(null);\n    setValidMoves([]);\n\n    // C·∫≠p nh·∫≠t tr·∫°ng th√°i game\n    if (over) {\n      setGameStatus('finished');\n    } else if (newFen && newFen !== \"................................................................\") {\n      setGameStatus('playing');\n    }\n  }, []);\n  const {\n    connected,\n    playerColor,\n    sendMove,\n    sendChat,\n    chatMessages\n  } = useChessSocket(roomId, onUpdate);\n\n  // Theo d√µi k·∫øt n·ªëi li√™n t·ª•c\n  useEffect(() => {\n    if (connected && playerColor) {\n      if (playerColor === 'white' || playerColor === 'black') {\n        setGameStatus('ready');\n      }\n    } else {\n      setGameStatus('waiting');\n    }\n  }, [connected, playerColor]);\n\n  // Ki·ªÉm tra ƒë·ªëi th·ªß c√≥ m·∫∑t kh√¥ng\n  useEffect(() => {\n    // Logic n√†y c·∫ßn server g·ª≠i v·ªÅ th√¥ng tin s·ªë ng∆∞·ªùi ch∆°i\n    // T·∫°m th·ªùi check qua gameStatus\n    if (gameStatus === 'playing') {\n      setOpponentConnected(true);\n    }\n  }, [gameStatus]);\n  const board = useMemo(() => {\n    const parts = fen && fen.includes(\"/\") ? fen.split(\"/\") : [];\n    let rows = [];\n    if (parts.length === 8) {\n      rows = parts.map(row => row.split(\"\"));\n    } else if (fen.length >= 64) {\n      for (let i = 0; i < 8; i++) {\n        rows.push(fen.slice(i * 8, i * 8 + 8).split(\"\"));\n      }\n    } else {\n      rows = Array.from({\n        length: 8\n      }, () => Array(8).fill(\".\"));\n    }\n    return rows;\n  }, [fen]);\n  function idxToSquare(r, c) {\n    const file = String.fromCharCode(\"a\".charCodeAt(0) + c);\n    const rank = String(8 - r);\n    return `${file}${rank}`;\n  }\n  function handleSquareClick(r, c) {\n    const sq = idxToSquare(r, c);\n\n    // Ki·ªÉm tra tr·∫°ng th√°i game\n    if (gameStatus === 'waiting') {\n      setErrorMsg(\"‚è≥ ƒêang ch·ªù k·∫øt n·ªëi...\");\n      return;\n    }\n    if (gameStatus === 'ready' && !opponentConnected) {\n      setErrorMsg(\"‚è≥ ƒêang ch·ªù ƒë·ªëi th·ªß tham gia...\");\n      return;\n    }\n    if (gameOver) {\n      setErrorMsg(\"üèÅ Tr·∫≠n ƒë·∫•u ƒë√£ k·∫øt th√∫c!\");\n      return;\n    }\n    if (playerColor !== turn) {\n      setErrorMsg(\"‚è±Ô∏è Ch∆∞a ƒë·∫øn l∆∞·ª£t c·ªßa b·∫°n!\");\n      return;\n    }\n    if (!selectedFrom) {\n      const piece = board[r][c];\n      if (!ChessRules.isPlayerPiece(piece, playerColor)) {\n        setErrorMsg(\"‚ùå H√£y ch·ªçn qu√¢n c·ªù c·ªßa b·∫°n!\");\n        return;\n      }\n      setSelectedFrom(sq);\n      setErrorMsg(\"\");\n      const possible = [];\n      for (let toR = 0; toR < 8; toR++) {\n        for (let toC = 0; toC < 8; toC++) {\n          const toSq = idxToSquare(toR, toC);\n          const fromPos = ChessRules.notationToPosition(sq);\n          const toPos = ChessRules.notationToPosition(toSq);\n          if (fromPos && toPos) {\n            const validation = ChessRules.isValidMove(board, {\n              from: fromPos,\n              to: toPos\n            }, playerColor);\n            if (validation.valid) {\n              possible.push(toSq);\n            }\n          }\n        }\n      }\n      setValidMoves(possible);\n      return;\n    }\n    if (selectedFrom === sq) {\n      setSelectedFrom(null);\n      setValidMoves([]);\n      return;\n    }\n    const fromPos = ChessRules.notationToPosition(selectedFrom);\n    const toPos = ChessRules.notationToPosition(sq);\n    if (!fromPos || !toPos) {\n      setErrorMsg(\"‚ùå V·ªã tr√≠ kh√¥ng h·ª£p l·ªá!\");\n      return;\n    }\n    const validation = ChessRules.isValidMove(board, {\n      from: fromPos,\n      to: toPos\n    }, playerColor);\n    if (!validation.valid) {\n      setErrorMsg(validation.error || \"‚ùå N∆∞·ªõc ƒëi kh√¥ng h·ª£p l·ªá!\");\n      setSelectedFrom(null);\n      setValidMoves([]);\n      return;\n    }\n    const ok = sendMove(`${selectedFrom}${sq}`);\n    if (!ok) {\n      setErrorMsg(\"‚ö†Ô∏è Kh√¥ng th·ªÉ g·ª≠i n∆∞·ªõc ƒëi!\");\n    }\n    setSelectedFrom(null);\n    setValidMoves([]);\n    setErrorMsg(\"\");\n  }\n\n  // Render ph·∫ßn tr·∫°ng th√°i k·∫øt n·ªëi\n  const renderConnectionStatus = () => {\n    if (gameStatus === 'waiting') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 20,\n          background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n          color: \"white\",\n          borderRadius: 12,\n          textAlign: \"center\",\n          marginBottom: 16,\n          boxShadow: \"0 4px 15px rgba(0,0,0,0.2)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 48,\n            marginBottom: 8\n          },\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: \"8px 0\"\n          },\n          children: \"\\u0110ang k\\u1EBFt n\\u1ED1i v\\u1EDBi ph\\xF2ng...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            opacity: 0.9\n          },\n          children: [\"Room ID: \", roomId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this);\n    }\n    if (gameStatus === 'ready' && !opponentConnected) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 20,\n          background: \"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)\",\n          color: \"white\",\n          borderRadius: 12,\n          textAlign: \"center\",\n          marginBottom: 16,\n          boxShadow: \"0 4px 15px rgba(0,0,0,0.2)\",\n          animation: \"pulse 2s ease-in-out infinite\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 48,\n            marginBottom: 8\n          },\n          children: \"\\uD83D\\uDC64\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: \"8px 0\"\n          },\n          children: \"\\u0110ang ch\\u1EDD \\u0111\\u1ED1i th\\u1EE7...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"8px 0\",\n            opacity: 0.9\n          },\n          children: [\"B\\u1EA1n \\u0111ang ch\\u01A1i qu\\xE2n: \", playerColor === \"white\" ? \"‚ö™ Tr·∫Øng\" : \"‚ö´ ƒêen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            fontSize: 14,\n            opacity: 0.8\n          },\n          children: [\"Chia s\\u1EBB Room ID \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: roomId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this), \" cho \\u0111\\u1ED1i th\\u1EE7\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this);\n    }\n    if (gameStatus === 'playing' || gameStatus === 'finished') {\n      return null; // Kh√¥ng hi·ªÉn th·ªã banner khi ƒëang ch∆°i\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: \"sans-serif\",\n      maxWidth: 900,\n      margin: \"0 auto\",\n      padding: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.02); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), renderConnectionStatus(), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: 16,\n        padding: 12,\n        background: \"#f5f5f5\",\n        borderRadius: 8,\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Ph\\xF2ng:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n          style: {\n            background: \"#e0e0e0\",\n            padding: \"4px 8px\",\n            borderRadius: 4,\n            fontFamily: \"monospace\"\n          },\n          children: roomId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: 16,\n            color: connected ? \"#28a745\" : \"#dc3545\",\n            fontWeight: \"bold\"\n          },\n          children: [\"\\u25CF \", connected ? \"ƒê√£ k·∫øt n·ªëi\" : \"M·∫•t k·∫øt n·ªëi\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"M\\xE0u qu\\xE2n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), \" \", playerColor === \"white\" ? \"‚ö™ Tr·∫Øng\" : playerColor === \"black\" ? \"‚ö´ ƒêen\" : \"üëÅÔ∏è Kh√°n gi·∫£\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 10,\n        marginBottom: 12,\n        background: \"#fff3cd\",\n        border: \"1px solid #ffc107\",\n        borderRadius: 6,\n        color: \"#856404\"\n      },\n      children: errorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"4px solid #8b4513\",\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(8, 56px)\",\n            gridTemplateRows: \"repeat(8, 56px)\",\n            userSelect: \"none\",\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.3)\",\n            opacity: gameStatus === 'waiting' || gameStatus === 'ready' && !opponentConnected ? 0.5 : 1,\n            pointerEvents: gameStatus === 'waiting' || gameStatus === 'ready' && !opponentConnected ? 'none' : 'auto'\n          },\n          children: board.map((row, r) => row.map((piece, c) => {\n            var _pieceToEmoji$piece;\n            const sq = idxToSquare(r, c);\n            const isSelected = selectedFrom === sq;\n            const isValidMove = validMoves.includes(sq);\n            const bg = (r + c) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n            let bgColor = bg;\n            if (isSelected) bgColor = \"#7fc97f\";else if (isValidMove) bgColor = \"#fdc689\";\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handleSquareClick(r, c),\n              style: {\n                width: 56,\n                height: 56,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                background: bgColor,\n                fontSize: 32,\n                cursor: gameOver ? \"not-allowed\" : \"pointer\",\n                transition: \"all 0.2s\",\n                border: isValidMove ? \"2px solid #f90\" : \"none\",\n                position: \"relative\"\n              },\n              title: sq,\n              children: [(_pieceToEmoji$piece = pieceToEmoji[piece]) !== null && _pieceToEmoji$piece !== void 0 ? _pieceToEmoji$piece : piece, isValidMove && piece === '.' && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: \"absolute\",\n                  width: 14,\n                  height: 14,\n                  borderRadius: \"50%\",\n                  background: \"rgba(0,0,0,0.3)\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 23\n              }, this)]\n            }, `${r}-${c}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 19\n            }, this);\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            fontSize: 12,\n            color: \"#666\",\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDFE9 \\xD4 \\u0111\\xE3 ch\\u1ECDn | \\uD83D\\uDFE8 N\\u01B0\\u1EDBc \\u0111i h\\u1EE3p l\\u1EC7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          minWidth: 280\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 16,\n            background: \"#f9f9f9\",\n            borderRadius: 8,\n            marginBottom: 16,\n            border: \"2px solid #e0e0e0\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: 0,\n              color: \"#333\"\n            },\n            children: \"\\uD83D\\uDCCA Th\\xF4ng tin tr\\u1EADn \\u0111\\u1EA5u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 10,\n              fontSize: 15\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"L\\u01B0\\u1EE3t \\u0111i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), \" \", turn === \"white\" ? \"‚ö™ Tr·∫Øng\" : \"‚ö´ ƒêen\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 10,\n              fontSize: 15\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tr\\u1EA1ng th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this), \" \", gameOver ? /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"#dc3545\"\n              },\n              children: [\"\\uD83C\\uDFC1 K\\u1EBFt th\\xFAc - \", gameOver, \" \", reason ? `(${reason})` : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"#28a745\"\n              },\n              children: \"\\uD83C\\uDFAE \\u0110ang ch\\u01A1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 15\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0110\\u1ED1i th\\u1EE7:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), \" \", opponentConnected ? /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"#28a745\"\n              },\n              children: \"\\u2713 \\u0110\\xE3 s\\u1EB5n s\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"#ffc107\"\n              },\n              children: \"\\u23F3 \\u0110ang ch\\u1EDD...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 16,\n            background: \"#e3f2fd\",\n            borderRadius: 8,\n            marginBottom: 16,\n            border: \"2px solid #90caf9\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginTop: 0,\n              color: \"#1976d2\"\n            },\n            children: \"\\u2139\\uFE0F H\\u01B0\\u1EDBng d\\u1EABn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            style: {\n              paddingLeft: 20,\n              fontSize: 14,\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Click v\\xE0o qu\\xE2n c\\u1EDD \\u0111\\u1EC3 ch\\u1ECDn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\xD4 v\\xE0ng l\\xE0 n\\u01B0\\u1EDBc \\u0111i h\\u1EE3p l\\u1EC7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Click \\xF4 \\u0111\\xEDch \\u0111\\u1EC3 di chuy\\u1EC3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Phi\\xEAn l\\xE0m vi\\u1EC7c \\u0111\\u01B0\\u1EE3c gi\\u1EEF li\\xEAn t\\u1EE5c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 12,\n            background: \"#fff9e6\",\n            borderRadius: 8,\n            marginBottom: 16,\n            border: \"1px dashed #ffc107\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 13,\n              color: \"#856404\"\n            },\n            children: [\"\\uD83D\\uDCA1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"M\\u1EB9o:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 18\n            }, this), \" B\\u1EA1n c\\xF3 th\\u1EC3 r\\u1EDDi kh\\u1ECFi v\\xE0 quay l\\u1EA1i sau, ph\\xF2ng ch\\u01A1i v\\u1EABn \\u0111\\u01B0\\u1EE3c gi\\u1EEF nguy\\xEAn!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n}\n_s(Board, \"0ns+92KLuWwttryKggybamsDVq8=\", false, function () {\n  return [useChessSocket];\n});\n_c = Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useCallback","useChessSocket","ChessRules","jsxDEV","_jsxDEV","pieceToEmoji","K","Q","R","B","N","P","k","q","r","b","n","p","Board","roomId","_s","fen","setFen","turn","setTurn","gameOver","setGameOver","reason","setReason","undefined","selectedFrom","setSelectedFrom","validMoves","setValidMoves","errorMsg","setErrorMsg","gameStatus","setGameStatus","opponentConnected","setOpponentConnected","onUpdate","newFen","newTurn","over","connected","playerColor","sendMove","sendChat","chatMessages","board","parts","includes","split","rows","length","map","row","i","push","slice","Array","from","fill","idxToSquare","c","file","String","fromCharCode","charCodeAt","rank","handleSquareClick","sq","piece","isPlayerPiece","possible","toR","toC","toSq","fromPos","notationToPosition","toPos","validation","isValidMove","to","valid","error","ok","renderConnectionStatus","style","padding","background","color","borderRadius","textAlign","marginBottom","boxShadow","children","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","margin","opacity","animation","fontFamily","maxWidth","display","justifyContent","alignItems","marginLeft","fontWeight","border","gap","gridTemplateColumns","gridTemplateRows","userSelect","pointerEvents","_pieceToEmoji$piece","isSelected","bg","bgColor","onClick","width","height","cursor","transition","position","title","marginTop","flex","minWidth","paddingLeft","_c","$RefreshReg$"],"sources":["D:/LTM/CHESS/fe/src/components/Broad/Board.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState, useCallback } from \"react\";\nimport useChessSocket from \"../context/useChessSocket\";\nimport { ChessRules } from \"./chessRules\";\n\ntype BoardProps = {\n  roomId: string;\n};\n\nconst pieceToEmoji: Record<string, string> = {\n  K: \"‚ôî\", Q: \"‚ôï\", R: \"‚ôñ\", B: \"‚ôó\", N: \"‚ôò\", P: \"‚ôô\",\n  k: \"‚ôö\", q: \"‚ôõ\", r: \"‚ôú\", b: \"‚ôù\", n: \"‚ôû\", p: \"‚ôüÔ∏é\",\n  \".\": \"¬∑\",\n};\n\ntype GameStatus = 'waiting' | 'ready' | 'playing' | 'finished';\n\nexport default function Board({ roomId }: BoardProps) {\n  const [fen, setFen] = useState<string>(\"................................................................\");\n  const [turn, setTurn] = useState<string>(\"white\");\n  const [gameOver, setGameOver] = useState<string | null>(null);\n  const [reason, setReason] = useState<string | undefined>(undefined);\n  const [selectedFrom, setSelectedFrom] = useState<string | null>(null);\n  const [validMoves, setValidMoves] = useState<string[]>([]);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n  const [gameStatus, setGameStatus] = useState<GameStatus>('waiting');\n  const [opponentConnected, setOpponentConnected] = useState<boolean>(false);\n\n  const onUpdate = useCallback((newFen: string, newTurn: string, over: string | null, r?: string) => {\n    if (newFen) setFen(newFen);\n    setTurn(newTurn);\n    setGameOver(over);\n    setReason(r);\n    setSelectedFrom(null);\n    setValidMoves([]);\n    \n    // C·∫≠p nh·∫≠t tr·∫°ng th√°i game\n    if (over) {\n      setGameStatus('finished');\n    } else if (newFen && newFen !== \"................................................................\") {\n      setGameStatus('playing');\n    }\n  }, []);\n\n  const { connected, playerColor, sendMove, sendChat, chatMessages } = useChessSocket(roomId, onUpdate);\n\n  // Theo d√µi k·∫øt n·ªëi li√™n t·ª•c\n  useEffect(() => {\n    if (connected && playerColor) {\n      if (playerColor === 'white' || playerColor === 'black') {\n        setGameStatus('ready');\n      }\n    } else {\n      setGameStatus('waiting');\n    }\n  }, [connected, playerColor]);\n\n  // Ki·ªÉm tra ƒë·ªëi th·ªß c√≥ m·∫∑t kh√¥ng\n  useEffect(() => {\n    // Logic n√†y c·∫ßn server g·ª≠i v·ªÅ th√¥ng tin s·ªë ng∆∞·ªùi ch∆°i\n    // T·∫°m th·ªùi check qua gameStatus\n    if (gameStatus === 'playing') {\n      setOpponentConnected(true);\n    }\n  }, [gameStatus]);\n\n  const board = useMemo(() => {\n    const parts = fen && fen.includes(\"/\") ? fen.split(\"/\") : [];\n    let rows: string[][] = [];\n    \n    if (parts.length === 8) {\n      rows = parts.map(row => row.split(\"\"));\n    } else if (fen.length >= 64) {\n      for (let i = 0; i < 8; i++) {\n        rows.push(fen.slice(i * 8, i * 8 + 8).split(\"\"));\n      }\n    } else {\n      rows = Array.from({ length: 8 }, () => Array(8).fill(\".\"));\n    }\n    \n    return rows;\n  }, [fen]);\n\n  function idxToSquare(r: number, c: number): string {\n    const file = String.fromCharCode(\"a\".charCodeAt(0) + c);\n    const rank = String(8 - r);\n    return `${file}${rank}`;\n  }\n\n  function handleSquareClick(r: number, c: number) {\n    const sq = idxToSquare(r, c);\n    \n    // Ki·ªÉm tra tr·∫°ng th√°i game\n    if (gameStatus === 'waiting') {\n      setErrorMsg(\"‚è≥ ƒêang ch·ªù k·∫øt n·ªëi...\");\n      return;\n    }\n\n    if (gameStatus === 'ready' && !opponentConnected) {\n      setErrorMsg(\"‚è≥ ƒêang ch·ªù ƒë·ªëi th·ªß tham gia...\");\n      return;\n    }\n\n    if (gameOver) {\n      setErrorMsg(\"üèÅ Tr·∫≠n ƒë·∫•u ƒë√£ k·∫øt th√∫c!\");\n      return;\n    }\n\n    if (playerColor !== turn) {\n      setErrorMsg(\"‚è±Ô∏è Ch∆∞a ƒë·∫øn l∆∞·ª£t c·ªßa b·∫°n!\");\n      return;\n    }\n\n    if (!selectedFrom) {\n      const piece = board[r][c];\n      if (!ChessRules.isPlayerPiece(piece, playerColor as 'white' | 'black')) {\n        setErrorMsg(\"‚ùå H√£y ch·ªçn qu√¢n c·ªù c·ªßa b·∫°n!\");\n        return;\n      }\n      \n      setSelectedFrom(sq);\n      setErrorMsg(\"\");\n      \n      const possible: string[] = [];\n      for (let toR = 0; toR < 8; toR++) {\n        for (let toC = 0; toC < 8; toC++) {\n          const toSq = idxToSquare(toR, toC);\n          const fromPos = ChessRules.notationToPosition(sq);\n          const toPos = ChessRules.notationToPosition(toSq);\n          \n          if (fromPos && toPos) {\n            const validation = ChessRules.isValidMove(\n              board,\n              { from: fromPos, to: toPos },\n              playerColor as 'white' | 'black'\n            );\n            if (validation.valid) {\n              possible.push(toSq);\n            }\n          }\n        }\n      }\n      setValidMoves(possible);\n      return;\n    }\n\n    if (selectedFrom === sq) {\n      setSelectedFrom(null);\n      setValidMoves([]);\n      return;\n    }\n\n    const fromPos = ChessRules.notationToPosition(selectedFrom);\n    const toPos = ChessRules.notationToPosition(sq);\n\n    if (!fromPos || !toPos) {\n      setErrorMsg(\"‚ùå V·ªã tr√≠ kh√¥ng h·ª£p l·ªá!\");\n      return;\n    }\n\n    const validation = ChessRules.isValidMove(\n      board,\n      { from: fromPos, to: toPos },\n      playerColor as 'white' | 'black'\n    );\n\n    if (!validation.valid) {\n      setErrorMsg(validation.error || \"‚ùå N∆∞·ªõc ƒëi kh√¥ng h·ª£p l·ªá!\");\n      setSelectedFrom(null);\n      setValidMoves([]);\n      return;\n    }\n\n    const ok = sendMove(`${selectedFrom}${sq}`);\n    if (!ok) {\n      setErrorMsg(\"‚ö†Ô∏è Kh√¥ng th·ªÉ g·ª≠i n∆∞·ªõc ƒëi!\");\n    }\n    \n    setSelectedFrom(null);\n    setValidMoves([]);\n    setErrorMsg(\"\");\n  }\n\n  // Render ph·∫ßn tr·∫°ng th√°i k·∫øt n·ªëi\n  const renderConnectionStatus = () => {\n    if (gameStatus === 'waiting') {\n      return (\n        <div style={{\n          padding: 20,\n          background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n          color: \"white\",\n          borderRadius: 12,\n          textAlign: \"center\",\n          marginBottom: 16,\n          boxShadow: \"0 4px 15px rgba(0,0,0,0.2)\"\n        }}>\n          <div style={{ fontSize: 48, marginBottom: 8 }}>‚è≥</div>\n          <h3 style={{ margin: \"8px 0\" }}>ƒêang k·∫øt n·ªëi v·ªõi ph√≤ng...</h3>\n          <p style={{ margin: 0, opacity: 0.9 }}>Room ID: {roomId}</p>\n        </div>\n      );\n    }\n\n    if (gameStatus === 'ready' && !opponentConnected) {\n      return (\n        <div style={{\n          padding: 20,\n          background: \"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)\",\n          color: \"white\",\n          borderRadius: 12,\n          textAlign: \"center\",\n          marginBottom: 16,\n          boxShadow: \"0 4px 15px rgba(0,0,0,0.2)\",\n          animation: \"pulse 2s ease-in-out infinite\"\n        }}>\n          <div style={{ fontSize: 48, marginBottom: 8 }}>üë§</div>\n          <h3 style={{ margin: \"8px 0\" }}>ƒêang ch·ªù ƒë·ªëi th·ªß...</h3>\n          <p style={{ margin: \"8px 0\", opacity: 0.9 }}>\n            B·∫°n ƒëang ch∆°i qu√¢n: {playerColor === \"white\" ? \"‚ö™ Tr·∫Øng\" : \"‚ö´ ƒêen\"}\n          </p>\n          <p style={{ margin: 0, fontSize: 14, opacity: 0.8 }}>\n            Chia s·∫ª Room ID <strong>{roomId}</strong> cho ƒë·ªëi th·ªß\n          </p>\n        </div>\n      );\n    }\n\n    if (gameStatus === 'playing' || gameStatus === 'finished') {\n      return null; // Kh√¥ng hi·ªÉn th·ªã banner khi ƒëang ch∆°i\n    }\n  };\n\n  return (\n    <div style={{ fontFamily: \"sans-serif\", maxWidth: 900, margin: \"0 auto\", padding: 16 }}>\n      <style>{`\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.02); }\n        }\n      `}</style>\n\n      {/* Connection Status Banner */}\n      {renderConnectionStatus()}\n\n      {/* Header */}\n      <div style={{ \n        display: \"flex\", \n        justifyContent: \"space-between\", \n        marginBottom: 16,\n        padding: 12,\n        background: \"#f5f5f5\",\n        borderRadius: 8,\n        alignItems: \"center\"\n      }}>\n        <div>\n          <strong>Ph√≤ng:</strong> <code style={{ \n            background: \"#e0e0e0\", \n            padding: \"4px 8px\", \n            borderRadius: 4,\n            fontFamily: \"monospace\"\n          }}>{roomId}</code>\n          <span style={{ marginLeft: 16, color: connected ? \"#28a745\" : \"#dc3545\", fontWeight: \"bold\" }}>\n            ‚óè {connected ? \"ƒê√£ k·∫øt n·ªëi\" : \"M·∫•t k·∫øt n·ªëi\"}\n          </span>\n        </div>\n        <div>\n          <strong>M√†u qu√¢n:</strong> {playerColor === \"white\" ? \"‚ö™ Tr·∫Øng\" : playerColor === \"black\" ? \"‚ö´ ƒêen\" : \"üëÅÔ∏è Kh√°n gi·∫£\"}\n        </div>\n      </div>\n\n      {/* Error Message */}\n      {errorMsg && (\n        <div style={{ \n          padding: 10, \n          marginBottom: 12, \n          background: \"#fff3cd\", \n          border: \"1px solid #ffc107\",\n          borderRadius: 6,\n          color: \"#856404\"\n        }}>\n          {errorMsg}\n        </div>\n      )}\n\n      <div style={{ display: \"flex\", gap: 24 }}>\n        {/* B√†n c·ªù */}\n        <div>\n          <div style={{\n            border: \"4px solid #8b4513\",\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(8, 56px)\",\n            gridTemplateRows: \"repeat(8, 56px)\",\n            userSelect: \"none\",\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.3)\",\n            opacity: gameStatus === 'waiting' || (gameStatus === 'ready' && !opponentConnected) ? 0.5 : 1,\n            pointerEvents: gameStatus === 'waiting' || (gameStatus === 'ready' && !opponentConnected) ? 'none' : 'auto'\n          }}>\n            {board.map((row, r) =>\n              row.map((piece, c) => {\n                const sq = idxToSquare(r, c);\n                const isSelected = selectedFrom === sq;\n                const isValidMove = validMoves.includes(sq);\n                const bg = (r + c) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n                \n                let bgColor = bg;\n                if (isSelected) bgColor = \"#7fc97f\";\n                else if (isValidMove) bgColor = \"#fdc689\";\n\n                return (\n                  <div\n                    key={`${r}-${c}`}\n                    onClick={() => handleSquareClick(r, c)}\n                    style={{\n                      width: 56,\n                      height: 56,\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                      background: bgColor,\n                      fontSize: 32,\n                      cursor: gameOver ? \"not-allowed\" : \"pointer\",\n                      transition: \"all 0.2s\",\n                      border: isValidMove ? \"2px solid #f90\" : \"none\",\n                      position: \"relative\"\n                    }}\n                    title={sq}\n                  >\n                    {pieceToEmoji[piece] ?? piece}\n                    {isValidMove && piece === '.' && (\n                      <div style={{\n                        position: \"absolute\",\n                        width: 14,\n                        height: 14,\n                        borderRadius: \"50%\",\n                        background: \"rgba(0,0,0,0.3)\"\n                      }} />\n                    )}\n                  </div>\n                );\n              })\n            )}\n          </div>\n          \n          <div style={{ marginTop: 12, fontSize: 12, color: \"#666\", textAlign: \"center\" }}>\n            <div>üü© √î ƒë√£ ch·ªçn | üü® N∆∞·ªõc ƒëi h·ª£p l·ªá</div>\n          </div>\n        </div>\n\n        {/* Th√¥ng tin tr·∫≠n ƒë·∫•u */}\n        <div style={{ flex: 1, minWidth: 280 }}>\n          <div style={{ \n            padding: 16, \n            background: \"#f9f9f9\", \n            borderRadius: 8,\n            marginBottom: 16,\n            border: \"2px solid #e0e0e0\"\n          }}>\n            <h3 style={{ marginTop: 0, color: \"#333\" }}>üìä Th√¥ng tin tr·∫≠n ƒë·∫•u</h3>\n            <div style={{ marginBottom: 10, fontSize: 15 }}>\n              <strong>L∆∞·ª£t ƒëi:</strong> {turn === \"white\" ? \"‚ö™ Tr·∫Øng\" : \"‚ö´ ƒêen\"}\n            </div>\n            <div style={{ marginBottom: 10, fontSize: 15 }}>\n              <strong>Tr·∫°ng th√°i:</strong>{\" \"}\n              {gameOver \n                ? <span style={{ color: \"#dc3545\" }}>üèÅ K·∫øt th√∫c - {gameOver} {reason ? `(${reason})` : \"\"}</span>\n                : <span style={{ color: \"#28a745\" }}>üéÆ ƒêang ch∆°i</span>}\n            </div>\n            <div style={{ fontSize: 15 }}>\n              <strong>ƒê·ªëi th·ªß:</strong>{\" \"}\n              {opponentConnected \n                ? <span style={{ color: \"#28a745\" }}>‚úì ƒê√£ s·∫µn s√†ng</span>\n                : <span style={{ color: \"#ffc107\" }}>‚è≥ ƒêang ch·ªù...</span>}\n            </div>\n          </div>\n\n          <div style={{ \n            padding: 16, \n            background: \"#e3f2fd\", \n            borderRadius: 8,\n            marginBottom: 16,\n            border: \"2px solid #90caf9\"\n          }}>\n            <h4 style={{ marginTop: 0, color: \"#1976d2\" }}>‚ÑπÔ∏è H∆∞·ªõng d·∫´n</h4>\n            <ol style={{ paddingLeft: 20, fontSize: 14, margin: 0 }}>\n              <li>Click v√†o qu√¢n c·ªù ƒë·ªÉ ch·ªçn</li>\n              <li>√î v√†ng l√† n∆∞·ªõc ƒëi h·ª£p l·ªá</li>\n              <li>Click √¥ ƒë√≠ch ƒë·ªÉ di chuy·ªÉn</li>\n              <li>Phi√™n l√†m vi·ªác ƒë∆∞·ª£c gi·ªØ li√™n t·ª•c</li>\n            </ol>\n          </div>\n\n          <div style={{\n            padding: 12,\n            background: \"#fff9e6\",\n            borderRadius: 8,\n            marginBottom: 16,\n            border: \"1px dashed #ffc107\"\n          }}>\n            <div style={{ fontSize: 13, color: \"#856404\" }}>\n              üí° <strong>M·∫πo:</strong> B·∫°n c√≥ th·ªÉ r·ªùi kh·ªèi v√† quay l·∫°i sau, ph√≤ng ch∆°i v·∫´n ƒë∆∞·ª£c gi·ªØ nguy√™n!\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}